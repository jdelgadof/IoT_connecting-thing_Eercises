#include <stdio.h>
#include "pico/stdlib.h"
#include "uart/PicoUart.h"
#include "display/ssd1306.h"

#define LED1 20
#define LED2 21
#define LED3 22
static const unsigned char Dino[] = {
        // font edit begin : monovlsb : 39 : 39 : 39
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0xF8, 0xFE, 0xFE, 0xE6, 0xE6,
        0xFE, 0xFE, 0xFE, 0xFE, 0xFE, 0xFE, 0xFE, 0xFE,
        0xFE, 0xFE, 0xFC, 0xF8, 0x00, 0x00, 0x00, 0x00,
        0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0xC0, 0xC0, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
        0x3F, 0x1F, 0x13, 0x13, 0x13, 0x13, 0x13, 0x03,
        0x03, 0x03, 0x03, 0x00, 0x00, 0x00, 0x00, 0xFF,
        0xFE, 0xFC, 0xF8, 0xF0, 0xE0, 0xE0, 0xE0, 0xE0,
        0xF0, 0xF8, 0xFC, 0xFC, 0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x06,
        0x06, 0x0E, 0x0C, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x03, 0x03, 0x0F, 0x1F, 0x1F, 0x7F, 0x7F, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF, 0x7F, 0x7F, 0xFF, 0xFF,
        0xFF, 0x1F, 0x1F, 0x0F, 0x01, 0x01, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3F, 0x27,
        0x23, 0x21, 0x00, 0x00, 0x00, 0x01, 0x01, 0x3F,
        0x20, 0x20, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00
        // font edit end
};
int main() {

    // Initialize LED pin
    gpio_init(LED1);
    gpio_init(LED2);
    gpio_init(LED3);
    gpio_set_dir(LED1, 1);
    gpio_set_dir(LED2, 1);
    gpio_set_dir(LED3, 1);
    i2c_init(i2c1, 400 * 1000);
    gpio_set_function(14, GPIO_FUNC_I2C); // the display has external pull-ups
    gpio_set_function(15, GPIO_FUNC_I2C); // the display has external pull-ups


    // Initialize chosen serial port
    stdio_init_all();
    int counter = 0;

    // Loop forever
    while (true) {

        printf("counter= %d\n",counter);
        printf("LED1 value= %d\n",(counter & 0b001));
        printf("LED2 value= %d\n",(counter & 0b010) >> 1);
        printf("LED3 value= %d\n",(counter & 0b100) >> 2);
        gpio_put(LED1, (counter & 0b001)); // Turn LED D1 on/off
        gpio_put(LED2, (counter & 0b010) >> 1); // Turn LED D2 on/off
        gpio_put(LED3, (counter & 0b100) >> 2); // Turn LED D3 on/off
        sleep_ms(125); // Wait for 1/4 second
        counter ++;
        if(counter>7){counter = 0;}

    }
}